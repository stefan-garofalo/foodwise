FROM oven/bun:alpine

WORKDIR /app

ARG BETTER_AUTH_SECRET
ARG BETTER_AUTH_URL
ARG GOOGLE_CLIENT_ID
ARG GOOGLE_CLIENT_SECRET
ARG TURSO_DB_URL
ARG TURSO_AUTH_TOKEN
ARG NEXT_PUBLIC_BACKEND_URL
ARG NEXT_PUBLIC_FRONTEND_URL

COPY package.json bun.lock ./
RUN bun install

COPY . .

EXPOSE 3080

CMD ["bun", "run", "start"]
